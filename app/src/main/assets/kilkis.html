<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>World Map</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.5/xlsx.min.js"></script>
    <script type="text/javascript" src="https://unpkg.com/xlsx@0.15.1/dist/xlsx.full.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="main.css">
    <link rel="stylesheet" href="table.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqvmap/1.5.1/jqvmap.min.css">
</head>

<body>
<div class="center">
    <h1>ΝΟΜΟΣ ΚΙΛΚΙΣ</h1>
</div>
<div style="width: 100%;">
    <button type="button" name="load_data" id="load_data" class="btn btn-info">Load Data</button>


    <svg viewBox="0 0 320 100">
        <a  href="" id="pkm">
            <g>

                <a href="index.html" id="kilkis" ><polygon points="162.149,65.75 163.75,64.75 167.25,67.95 170.45,66.15 176.75,66.15 178.95,64.45 180.25,61.45 181.25,60.85 183.351,63.55 186.55,62.75 187.149,57.65 192.149,52.95 191.351,49.25 184.55,44.45 175.55,41.15 174.75,35.15 174.351,32.75 171.649,32.75 169.55,34.65 169.149,37.85 168.649,43.45 167.05,44.85 166.75,44.45 166.45,42.65 165.351,42.35 162.649,44.95 160.95,45.95 159.05,45.35 154.75,46.35 151.649,45.25 149.55,45.55 146.649,55.95 148.75,56.75 154.55,64.35 157.75,63.05"></polygon></a>
            </g>
        </a>
    </svg>
    <div style="width:50%" id="employee_table">
    </div>
</div>




</body>
</html>
<script>
const  political_parties= ["ΣΥΡΙΖΑ", "Νέα Δημοκρατία", "Λαϊκός Σύνδεσμος - Χρυσή Αυγή","Κίνημα Αλλαγής","Κ.Κ.Ε.","Ένωση Κεντρώων","Ο.Κ.Δ.Ε.","ΑΝΤ.ΑΡ.ΣΥ.Α.","Ελλήνων Συνέλευσις","ΕΕΚ Τροτσκιστές - Εργ.Επ.Κόμμα","Ελληνική Λύση - Κ. Βελόπουλος","Κ.Κ.Ε. (μ-λ)","Μ-Λ Κ.Κ.Ε.","Ε.ΠΑ.Μ - Α.Κ.Κ.ΕΛ","Λαϊκή Ενότητα","ΜέΡΑ25","Δημιουργία ξανά - Θ. Τζήμερος","Πλεύση Ελευθερίας - Ζωή Κωνστ.","Ανεξάρτητοι Υποψήφιοι"];
var Str;
$(document).ready(function(){
	$('#load_data').click(function(){
	 $.ajax({
	  url:"KILKIS.csv",
	  dataType:"text",
	  success:function(data)
	  {
	   var employee_data = data.split(/\r?\n|\r/);
	   var table_data = '<table style="width=50%" id="customers"  >';
	   var tb ='';
	   for(var count = 0; count<1; count++)
	   {
			var cell_data = employee_data[count].split(",");
			var last_row = employee_data[employee_data.length-1].split("\",\"");
			console.log(last_row.length);

					for(var cell_count=0; cell_count<cell_data.length; cell_count++)
					{
					cell_data[cell_count]=cell_data[cell_count].replace(/"/g,'');
					last_row[cell_count]=last_row[cell_count].replace(/"/g,'');

					if(count === 0 && political_parties.includes(cell_data[cell_count]))
					{
						table_data += '<tr>'+'<th>'+cell_data[cell_count]+'</th>';
						table_data +='<td>'+last_row[cell_count]+'</td>' + '</tr>';


						console.log("dsadsadasdsa"+last_row[cell_count])
						console.log(last_row)
					}
					else if (political_parties.includes(cell_data[cell_count]))
					{
						table_data += '<td>'+cell_data[cell_count]+'</td>';
						tb += '<td>'+last_row[cell_count]+'</td>';
					}

					}

	   }
	   table_data += '</table>';
	   $('#employee_table').html(table_data);
	  }
	 });
	});

   });
   </script>
